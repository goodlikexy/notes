接口，lambda表达式与内部类

1.接口

可以将接口看成是没有实例域的抽象类，提供实例域和方法实现的任务应该由实现接口的类完成。jjava每个类只能扩展一个类，像C++一个类有多个超类，但是多继承会让语言本身变得复杂，效率也会降低，接口提供了多重继承的大多数好处，同时还能避免多继承的复杂性和低效性。

让类实现一个接口：

（1）将类声明为实现给定的接口

（2）对接口中所有方法进行定义（重写）

如：任何实现Comparable接口的类都需要重写comparaTo（）方法。



2.lambda表达式

()->{}   对于只有一个抽象方法的接口，需要这种接口对象时，就可以提供一个lambda表达式，这种接口称为函数式接口。

System.out::println 是一个方法引用，等价于lambda表达式x->System.out.println(x)

使用::操作符分隔方法名与对象名或类名的三种情况

（1）object::instance Method

（2）Class::static Method

（3）Class::instance Method

前两个方法引用等价于提供方法参数的lambda表达式；对于第三种情况，第一个参数会成为方法的目标，如：String::compareToIgnoreCase等价于（x,y)->x.compareToIgnoreCase(y)

在lambda表达式中，lambda表达式可以捕捉外围作用域中变量的值，同时只能引用值不会改变的变量。如果在lambda表达式中改变变量，并发执行多个动作时就会不安全。



3.内部类

定义在另一个类中的类

使用内部类的原因：

（1）内部类方法可以访问该类定义所在的作用域中的数据

（2）内部类可以对同一个包中的其他类隐藏起来

（3）当想要定义一个回调函数且不想编写大量代码时，使用匿名内部类比较便捷。



局部内部类

当在方法中创建类型对象时对象只使用一次，此时可以在一个方法中局部定义这个类。局部类有一个很大的优势，即对外部世界完全隐藏。相比于其他内部类，它不仅可以访问外部类的字段，还可以访问局部变量。但是这些变量必须是事实最终变量。



匿名内部类

如果只想创建这个类的一个对象，甚至不需要为类指定名字，这个类被称为匿名内部类

一般语法：

![image-20211014211916143](C:\Users\a8613\AppData\Roaming\Typora\typora-user-images\image-20211014211916143.png)

  SuperType可以是接口，也可以是个类，如果是类，内部类就要扩展这个类

由于构造器名字与类名相同，匿名内部类没有类名，所以匿名内部类不能有构造器。



静态内部类

静态内部类没有生成它的外围类对象的引用。
